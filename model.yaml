project: housing_inet

version: 0.0.6.0

description: |
  Wrapper for INET's housing model

sim_files:
  - type: simpy_module
    filepath: wrapper.py
  - type: jar
    filepath: housingModel_ST.jar

control_parameters:
  logging: debug
  ticks: 1500
  agents: 10000
  # seed: 104654501
  # seed: 0
  # sinks: [CommonSink, IndividualSink, TrustsSink]

replications: 1

model_parameters:
  - name: HPA_EXPECTATION_WEIGHT
    description: Expectation of future house prices
    type: real
    value: 0.2
    valid_range: {min: 0.0, max: 1.0, step: 0.1}

model_data_files:
  - dataset: AgeMarginalPDF
    filepath: modelsrc/data/AgeMarginalPDF.csv

  - dataset: AgeMarginalPDFdata
    filepath: modelsrc/data/AgeMarginalPDFdata.csv

  - dataset: AgeMarginalPDFstatic
    filepath: modelsrc/data/AgeMarginalPDFstatic.csv

  - dataset: HousePriceDist
    filepath: modelsrc/data/HousePriceDist.csv

  - dataset: IncomeGivenAge
    filepath: modelsrc/data/IncomeGivenAge.csv

model_data_schema:

  - name: AgeMarginalPDF
    columns:
      - {name: "HRP age min", type: int}
      - {name: "HRP age max", type: int}
      - {name: "probability", type: real}

  - name: AgeMarginalPDFdata
    columns:
      - {name: "HRP age min", type: int}
      - {name: "HRP age max", type: int}
      - {name: "probability", type: real}

  - name: AgeMarginalPDFstatic
    columns:
      - {name: "HRP age min", type: int}
      - {name: "HRP age max", type: int}
      - {name: "probability", type: real}

  - name: HousePriceDist
    columns:
      - {name: year, type: int}
      - {name: month, type: int}
      - {name: meanlogprice, type: real}
      - {name: sdlogprice, type: real}

  - name: IncomeGivenAge
    columns:
      - {name: "HRP age min", type: int}
      - {name: "HRP age max", type: int}
      - {name: "ln(income) min", type: real}
      - {name: "ln(income) max", type: real}
      - {name: "probability", type: real}

model_data_preprocessing: []

model_reference_data_schema:
  - name: dummy_ref
    columns:
      - {name: tick, type: int}
      - {name: dummy_ref_data, type: real}


model_reference_data_preprocessing:

  - name: CreateDummyRef
    dependencies: []
    type: ValuesStep
    params:
      dataset: dummy_ref
      columns: [tick, dummy_ref_data]
      values:
        - {tick: 0, dummy_ref_data: 0.0}

replication_analysis:
  - name: CopyOutput
    type: PandasETLStep
    dependencies: []
    params:
      extract:
        - {name: output, type: sim_data}
      transform: []
      load:
        - name: output
  - name: CopyCoreIndicators
    type: PandasETLStep
    dependencies: []
    params:
      extract:
        - {name: coreIndicator, type: sim_data}
      transform: []
      load:
        - name: coreIndicator

replication_data_schema:
  - name: output
    columns:
      - {name: "Model time", type: int}
      - {name: "NRegisteredMortgages", type: int}
      - {name: "nBtL(gene)", type: int}
      - {name: "nEmpty", type: int}
      - {name: "nHomeless", type: int}
      - {name: "nHouseholds", type: int}
      - {name: "nRenting", type: int}
      - {name: "AverageBidPrice", type: real}
      - {name: "AverageDaysOnMarket", type: real}
      - {name: "AverageOfferPrice", type: real}
      - {name: "BTLSalesProportion", type: real}
      - {name: "FTBSalesProportion", type: real}
      - {name: "HPA", type: real}
      - {name: "HPI", type: real}
      - {name: "nBuyers", type: int}
      - {name: "nSellers", type: int}
      - {name: "nSales", type: int}
      - {name: "nNewBuild", type: int}
      - {name: "Rental AverageBidPrice", type: real}
      - {name: "Rental AverageDaysOnMarket", type: real}
      - {name: "Rental AverageOfferPrice", type: real}
      - {name: "Rental HPA", type: real}
      - {name: "Rental HPI", type: real}
      - {name: "Rental nBuyers", type: int}
      - {name: "Rental nSellers", type: int}
      - {name: "Rental nSales", type: int}
      - {name: "averageNewRentalGrossYield", type: real}
      - {name: "nBtL(active)", type: int}
      - {name: "ProportionOfHousingStockBtL", type: real}

  - name: coreIndicator
    columns:
      - {name: tick, type: int}
      - {name: advancesToBTL, type: int}
      - {name: advancesToFTB, type: int}
      - {name: advancesToMovers, type: int}
      - {name: btlLTV, type: real}
      - {name: creditGrowth, type: real}
      - {name: debtToIncome, type: real}
      - {name: housePriceGrowth, type: real}
      - {name: housingTransactions, type: int}
      - {name: interestRateSpread, type: real}
      - {name: mortgageApprovals, type: int}
      - {name: ooDebtToIncome, type: real}
      - {name: ooLTI, type: real}
      - {name: priceToIncome, type: real}
      - {name: rentalYield, type: real}




replication_tests: []

configuration_analysis:
  
  - name: Output (Mean and Std)
    type: AggregationStep
    params:
      name: output
      index: "Model time"
      columns:
        - {name: "NRegisteredMortgages", agg: [mean, std]}
        - {name: "nBtL(gene)", agg: [mean, std]}
        - {name: "nEmpty", agg: [mean, std]}
        - {name: "nHomeless", agg: [mean, std]}
        - {name: "nHouseholds", agg: [mean, std]}
        - {name: "nRenting", agg: [mean, std]}
        - {name: "AverageBidPrice", agg: [mean, std]}
        - {name: "AverageDaysOnMarket", agg: [mean, std]}
        - {name: "AverageOfferPrice", agg: [mean, std]}
        - {name: "BTLSalesProportion", agg: [mean, std]}
        - {name: "FTBSalesProportion", agg: [mean, std]}
        - {name: "HPA", agg: [mean, std]}
        - {name: "HPI", agg: [mean, std]}
        - {name: "nBuyers", agg: [mean, std]}
        - {name: "nSellers", agg: [mean, std]}
        - {name: "nSales", agg: [mean, std]}
        - {name: "nNewBuild", agg: [mean, std]}
        - {name: "Rental AverageBidPrice", agg: [mean, std]}
        - {name: "Rental AverageDaysOnMarket", agg: [mean, std]}
        - {name: "Rental AverageOfferPrice", agg: [mean, std]}
        - {name: "Rental HPA", agg: [mean, std]}
        - {name: "Rental HPI", agg: [mean, std]}
        - {name: "Rental nBuyers", agg: [mean, std]}
        - {name: "Rental nSellers", agg: [mean, std]}
        - {name: "Rental nSales", agg: [mean, std]}
        - {name: "averageNewRentalGrossYield", agg: [mean, std]}
        - {name: "nBtL(active)", agg: [mean, std]}
        - {name: "ProportionOfHousingStockBtL", agg: [mean, std]}

  - name: Core Indicator (Mean and Std)
    type: AggregationStep
    params:
      name: coreIndicator
      index: tick
      columns:
        - {name: tick, agg: [mean, std]}
        - {name: advancesToBTL, agg: [mean, std]}
        - {name: advancesToFTB, agg: [mean, std]}
        - {name: advancesToMovers, agg: [mean, std]}
        - {name: btlLTV, agg: [mean, std]}
        - {name: creditGrowth, agg: [mean, std]}
        - {name: debtToIncome, agg: [mean, std]}
        - {name: housePriceGrowth, agg: [mean, std]}
        - {name: housingTransactions, agg: [mean, std]}
        - {name: interestRateSpread, agg: [mean, std]}
        - {name: mortgageApprovals, agg: [mean, std]}
        - {name: ooDebtToIncome, agg: [mean, std]}
        - {name: ooLTI, agg: [mean, std]}
        - {name: priceToIncome, agg: [mean, std]}
        - {name: rentalYield, agg: [mean, std]}

configuration_data_schema:
  
  - name: output
    columns:
      - {name: "Model time", type: int}
      - {name: "NRegisteredMortgages_mean", type: real}
      - {name: "NRegisteredMortgages_std", type: real}
      - {name: "nBtL(gene)_mean", type: real}
      - {name: "nBtL(gene)_std", type: real}
      - {name: "nEmpty_mean", type: real}
      - {name: "nEmpty_std", type: real}
      - {name: "nHomeless_mean", type: real}
      - {name: "nHomeless_std", type: real}
      - {name: "nHouseholds_mean", type: real}
      - {name: "nHouseholds_std", type: real}
      - {name: "nRenting_mean", type: real}
      - {name: "nRenting_std", type: real}
      - {name: "AverageBidPrice_mean", type: real}
      - {name: "AverageBidPrice_std", type: real}
      - {name: "AverageDaysOnMarket_mean", type: real}
      - {name: "AverageDaysOnMarket_std", type: real}
      - {name: "AverageOfferPrice_mean", type: real}
      - {name: "AverageOfferPrice_std", type: real}
      - {name: "BTLSalesProportion_mean", type: real}
      - {name: "BTLSalesProportion_std", type: real}
      - {name: "FTBSalesProportion_mean", type: real}
      - {name: "FTBSalesProportion_std", type: real}
      - {name: "HPA_mean", type: real}
      - {name: "HPA_std", type: real}
      - {name: "HPI_mean", type: real}
      - {name: "HPI_std", type: real}
      - {name: "nBuyers_mean", type: real}
      - {name: "nBuyers_std", type: real}
      - {name: "nSellers_mean", type: real}
      - {name: "nSellers_std", type: real}
      - {name: "nSales_mean", type: real}
      - {name: "nSales_std", type: real}
      - {name: "nNewBuild_mean", type: real}
      - {name: "nNewBuild_std", type: real}
      - {name: "Rental AverageBidPrice_mean", type: real}
      - {name: "Rental AverageBidPrice_std", type: real}
      - {name: "Rental AverageDaysOnMarket_mean", type: real}
      - {name: "Rental AverageDaysOnMarket_std", type: real}
      - {name: "Rental AverageOfferPrice_mean", type: real}
      - {name: "Rental AverageOfferPrice_std", type: real}
      - {name: "Rental HPA_mean", type: real}
      - {name: "Rental HPA_std", type: real}
      - {name: "Rental HPI_mean", type: real}
      - {name: "Rental HPI_std", type: real}
      - {name: "Rental nBuyers_mean", type: real}
      - {name: "Rental nBuyers_std", type: real}
      - {name: "Rental nSellers_mean", type: real}
      - {name: "Rental nSellers_std", type: real}
      - {name: "Rental nSales_mean", type: real}
      - {name: "Rental nSales_std", type: real}
      - {name: "averageNewRentalGrossYield_mean", type: real}
      - {name: "averageNewRentalGrossYield_std", type: real}
      - {name: "nBtL(active)_mean", type: real}
      - {name: "nBtL(active)_std", type: real}
      - {name: "ProportionOfHousingStockBtL_mean", type: real}
      - {name: "ProportionOfHousingStockBtL_std", type: real}

  - name: coreIndicator
    columns:
      - {name: tick, type: int}
      - {name: advancesToBTL_mean, type: real}
      - {name: advancesToBTL_std, type: real}
      - {name: advancesToFTB_mean, type: real}
      - {name: advancesToFTB_std, type: real}
      - {name: advancesToMovers_mean, type: real}
      - {name: advancesToMovers_std, type: real}
      - {name: btlLTV_mean, type: real}
      - {name: btlLTV_std, type: real}
      - {name: creditGrowth_mean, type: real}
      - {name: creditGrowth_std, type: real}
      - {name: debtToIncome_mean, type: real}
      - {name: debtToIncome_std, type: real}
      - {name: housePriceGrowth_mean, type: real}
      - {name: housePriceGrowth_std, type: real}
      - {name: housingTransactions_mean, type: real}
      - {name: housingTransactions_std, type: real}
      - {name: interestRateSpread_mean, type: real}
      - {name: interestRateSpread_std, type: real}
      - {name: mortgageApprovals_mean, type: real}
      - {name: mortgageApprovals_std, type: real}
      - {name: ooDebtToIncome_mean, type: real}
      - {name: ooDebtToIncome_std, type: real}
      - {name: ooLTI_mean, type: real}
      - {name: ooLTI_std, type: real}
      - {name: priceToIncome_mean, type: real}
      - {name: priceToIncome_std, type: real}
      - {name: rentalYield_mean, type: real}
      - {name: rentalYield_std, type: real}

configuration_tests: []

model_reports: []

scenario_templates:

  - name: Generic Scenario
    description: Generic scenario
    parameters:
      []

scenario_reports: []

metrics:
  - name: dummy_metric
    description: Dummy metric
    type: PooledMeanSquaredErrorMetric
    agg: {func: mean}
    params:
      from: coreIndicator
      from_column: advancesToBTL
      from_index: tick
      ref: dummy_ref
      ref_column: dummy_ref_data
      ref_index: tick

model_calibration:
  model_parameters:
    - name: HPA_EXPECTATION_WEIGHT
  metrics:
    - name: dummy_metric
  algorithm: enum
  selection_procedure: sort
  params: {}
